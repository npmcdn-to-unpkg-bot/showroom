{"version":3,"sources":["KM_tools.js","react_store.js","react_component.js","content.js","e2e.js"],"names":[],"mappings":"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","file":"content_compiled.js","sourcesContent":["(function (root) {\r\n\t'use strict';\r\n\r\n\tfunction factory(angular, Spinner) {\r\n\t\treturn angular\r\n\t\t\t.module(\"KM_tools\", ['angularSpinner'])\r\n\t\t\t.constant('configPara', {\r\n\t\t\t\tip: '',\r\n\t\t\t\t// ip: 'http://localhost:3000',\r\n\t\t\t\t// ip: 'http://52.4.177.161:3000',\r\n\t\t\t\t// ip: 'https://ec2-52-4-177-161.compute-1.amazonaws.com:3000',\r\n\t\t\t\t// ip: 'https://keydecision.tk',\r\n\t\t\t\t// ip: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\t\tapi: '/ajax/',\r\n\t\t\t\tapi2: '/python/',\r\n\t\t\t\t// isPhone: (window.location.protocol !== 'http:' && window.location.protocol !== 'https:')\r\n\t\t\t})\r\n\t\t\t.service('common', ['$http', '$q', 'usSpinnerService', 'configPara', function($http, $q, usSpinnerService, configPara){\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.xhr = function(method, data){\r\n\t\t\t\t\t//return $q.resolve('error');\r\n\t\t\t\t\tusSpinnerService.spin('spinner-1');\r\n\t\t\t\t\treturn $http.post(configPara.ip + configPara.api + method, data, {withCredentials: true}).then(function(response){\r\n\t\t\t\t\t\tusSpinnerService.stop('spinner-1');\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tusSpinnerService.stop('spinner-1');\r\n\t\t\t\t\t\treturn $q.reject(new Error(response.data || \"Request failed\"));\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tthis.xhr2 = function(method, data){\r\n\t\t\t\t\tusSpinnerService.spin('spinner-1');\r\n\t\t\t\t\treturn $http.post(configPara.ip + configPara.api2 + method, JSON.stringify(data), {withCredentials: true, headers: {'Content-Type': 'text/plain'}}).then(function(response){\r\n\t\t\t\t\t\tusSpinnerService.stop('spinner-1');\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tusSpinnerService.stop('spinner-1');\r\n\t\t\t\t\t\treturn $q.reject(new Error(response.data || \"Request failed\"));\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tthis.ParseS2P = function(inputString){\r\n\t\t\t\t\tvar freqMulti, dataFormat, temp1, temp2, temp3, temp4, freq = [], S21_db = [], S21_ang = [], S11_db = [], S11_ang = [];\r\n\t\t\t\t\tinputString.split(\"\\n\").forEach(function(thisLine){\r\n\t\t\t\t\t\tthisLine = thisLine.trim();\r\n\t\t\t\t\t\tif ((thisLine.length === 0) || (thisLine.charAt(0) === '!')) { return; }\r\n\t\t\t\t\t\ttemp1 = thisLine.split(/\\s{1,}/i);\r\n\t\t\t\t\t\tif (temp1[0] === '#') {\r\n\t\t\t\t\t\t\tif (temp1.length < 4) { throw new Error('Syntax error: at least 4 elements required --- ' + thisLine)}\r\n\t\t\t\t\t\t\tdataFormat = temp1[3].toLowerCase();\r\n\t\t\t\t\t\t\tswitch (temp1[1].toLowerCase()){\r\n\t\t\t\t\t\t\t\tcase 'thz':\r\n\t\t\t\t\t\t\t\t\tfreqMulti = 1e6;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'ghz':\r\n\t\t\t\t\t\t\t\t\tfreqMulti = 1e3;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'mhz':\r\n\t\t\t\t\t\t\t\t\tfreqMulti = 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'khz':\r\n\t\t\t\t\t\t\t\t\tfreqMulti = 1e-3;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'hz':\r\n\t\t\t\t\t\t\t\t\tfreqMulti = 1e-6;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tfreqMulti = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttemp2 = temp1.map(Number);\r\n\t\t\t\t\t\t\tfreq.push(temp2[0] * freqMulti);\r\n\t\t\t\t\t\t\tswitch (dataFormat){\r\n\t\t\t\t\t\t\t\tcase 'db':\r\n\t\t\t\t\t\t\t\t\tS11_db.push(temp2[1]);\r\n\t\t\t\t\t\t\t\t\tS11_ang.push(temp2[2] * Math.PI / 180);\r\n\t\t\t\t\t\t\t\t\tS21_db.push(temp2[3]);\r\n\t\t\t\t\t\t\t\t\tS21_ang.push(temp2[4] * Math.PI / 180);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'ma':\r\n\t\t\t\t\t\t\t\t\tS11_db.push(20 * Math.log(temp2[1]) / Math.LN10);\r\n\t\t\t\t\t\t\t\t\tS11_ang.push(temp2[2] * Math.PI / 180);\r\n\t\t\t\t\t\t\t\t\tS21_db.push(20 * Math.log(temp2[3]) / Math.LN10);\r\n\t\t\t\t\t\t\t\t\tS21_ang.push(temp2[4] * Math.PI / 180);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'ri':\r\n\t\t\t\t\t\t\t\t\tS11_db.push(10 * Math.log(temp2[1] * temp2[1] + temp2[2] * temp2[2]) / Math.LN10);\r\n\t\t\t\t\t\t\t\t\tS11_ang.push(Math.atan2(temp2[2], temp2[1]));\r\n\t\t\t\t\t\t\t\t\tS21_db.push(10 * Math.log(temp2[3] * temp2[3] + temp2[4] * temp2[4]) / Math.LN10);\r\n\t\t\t\t\t\t\t\t\tS21_ang.push(Math.atan2(temp2[4], temp2[3]));\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tthrow new Error('Syntax error: need to be RI, MA or dB --- ' + thisLine);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tfunction toFixed3(num){return Math.round(num * 1000) / 1000;}\r\n\t\t\t\t\treturn {freq: freq, S21_db: S21_db.map(toFixed3), S21_angRad: S21_ang.map(toFixed3), S11_db: S11_db.map(toFixed3), S11_angRad: S11_ang.map(toFixed3)}\r\n\t\t\t\t};\r\n\t\t\t\tthis.FPE2S = function(epsilon, epsilonE, coefF, coefP, coefE, freqGHz, q, centerFreq, bandwidth){\r\n\t\t\t\t\tvar N = coefF.length,\r\n\t\t\t\t\t\tbw = bandwidth,\r\n\t\t\t\t\t\tw0 = Math.sqrt((centerFreq - bw / 2) * (centerFreq + bw / 2)),\r\n\t\t\t\t\t\tnormalizedS = freqGHz.map(function(d){return numeric.t(w0 / (q * bw), (w0 / bw) * (d / w0 - w0 / d))}),\r\n\t\t\t\t\t\tnormalizedFreq = freqGHz.map(function(d){return numeric.t((w0 / bw) * (d / w0 - w0 / d), -w0 / (q * bw))}),\r\n\t\t\t\t\t\tvanderN = normalizedS.map(function(d){\r\n\t\t\t\t\t\t\tvar i, result = [], temp1 = numeric.t(1, 0);\r\n\t\t\t\t\t\t\tfor (i = 0; i < N + 1; i++){\r\n\t\t\t\t\t\t\t\tresult.push(temp1);\r\n\t\t\t\t\t\t\t\ttemp1 = temp1.mul(d);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tpolyResult = function(coef){\r\n\t\t\t\t\t\t\treturn vanderN.map(function(v){\r\n\t\t\t\t\t\t\t\treturn coef.reduce(function(t, d, i){\r\n\t\t\t\t\t\t\t\t\treturn t.add(d.mul(v[i]));\r\n\t\t\t\t\t\t\t\t}, numeric.t(0, 0))\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tpolyResultP = polyResult(coefP),\r\n\t\t\t\t\t\tpolyResultF = polyResult(coefF),\r\n\t\t\t\t\t\tpolyResultE = polyResult(coefE),\r\n\t\t\t\t\t\tS11 = freqGHz.map(function(f, i){return [f, polyResultF[i].div(polyResultE[i])]}),\r\n\t\t\t\t\t\tS21 = freqGHz.map(function(f, i){return [f, polyResultP[i].div(polyResultE[i]).div(epsilon)]});\r\n\t\t\t\t\treturn {S11: S11, S21: S21}\r\n\t\t\t\t};\r\n\t\t\t\tthis.CM2S = function(coupleMatrix, freqGHz, q, centerFreq, bandwidth){\r\n\t\t\t\t\tvar N = coupleMatrix.length - 2,\r\n\t\t\t\t\t\tbw = bandwidth,\r\n\t\t\t\t\t\tw0 = Math.sqrt((centerFreq - bw / 2) * (centerFreq + bw / 2)),\r\n\t\t\t\t\t\tnormalizedS = freqGHz.map(function(d){return numeric.t(w0 / (q * bw), (w0 / bw) * (d / w0 - w0 / d))}),\r\n\t\t\t\t\t\tnormalizedFreq = freqGHz.map(function(d){return numeric.t((w0 / bw) * (d / w0 - w0 / d), -w0 / (q * bw))}),\r\n\t\t\t\t\t\tS11 = [],\r\n\t\t\t\t\t\tS21 = [],\t\t\t\r\n\t\t\t\t\t\tminusR = numeric.rep([N + 2], 0);\r\n\t\t\t\t\tminusR[0] = -1;\r\n\t\t\t\t\tminusR[N+1] = -1;\r\n\t\t\t\t\tminusR = numeric.diag(minusR);\r\n\t\t\t\t\t\r\n\t\t\t\t\tnormalizedFreq.forEach(function(thisFreq, i){\r\n\t\t\t\t\t\tvar Y, Z,\r\n\t\t\t\t\t\t\tFUX = numeric.rep([N + 2], thisFreq.x),\r\n\t\t\t\t\t\t\tFUY = numeric.rep([N + 2], thisFreq.y);\r\n\t\t\t\t\t\tFUX[0] = 0;\r\n\t\t\t\t\t\tFUX[N + 1] = 0;\r\n\t\t\t\t\t\tFUX = numeric.diag(FUX);\r\n\t\t\t\t\t\tFUY[0] = 0;\r\n\t\t\t\t\t\tFUY[N + 1] = 0;\r\n\t\t\t\t\t\tFUY = numeric.diag(FUY);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tZ = numeric.t(numeric.add(FUX, coupleMatrix), numeric.add(FUY, minusR));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tY = Z.inv();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tS11.push([freqGHz[i], numeric.t(Y.x[0][0], Y.y[0][0]).mul(numeric.t(0, 2)).add(1)]);\r\n\t\t\t\t\t\tS21.push([freqGHz[i], numeric.t(Y.x[N+1][0], Y.y[N+1][0]).mul(numeric.t(0, -2))]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn {S11: S11, S21: S21}\r\n\t\t\t\t};\r\n\t\t\t\tthis.WebsiteAvailability = function(websiteUrls){\r\n\t\t\t\t\tvar promises = websiteUrls.map(function(websiteUrl){\r\n\t\t\t\t\t\treturn $http.head(websiteUrl, {withCredentials: false}).then(function(response){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn $q.all(promises);\r\n\t\t\t\t};\r\n\t\t\t\tthis.LoopThroughDOM = function(myElement, func){\r\n\t\t\t\t\tfunc(myElement);\r\n\t\t\t\t\tangular.forEach(myElement.children(), function (childElement) {\r\n\t\t\t\t\t\t_this.LoopThroughDOM(angular.element(childElement), func);\r\n\t\t\t\t\t});\r\n/* \t\t\t\t\tconsole.log(myElement.children());\r\n\t\t\t\t\tmyElement.children().each(function () {\r\n\t\t\t\t\t\t_this.LoopThroughDOM(angular.element(this), func); // \"this\" is the current child element in the loop\r\n\t\t\t\t\t}); */\r\n\t\t\t\t};\r\n\t\t\t\tthis.CountWatchers = function(myElement){\r\n\t\t\t\t\tif (myElement === []) {return 0};\r\n\t\t\t\t\tvar countResult = 0,\r\n\t\t\t\t\t\tmyFunc = function(myElement){\r\n\t\t\t\t\t\t\t// console.log(myElement.data().$scope.$$watchers);\r\n\t\t\t\t\t\t\tif (myElement.data().$isolateScope && myElement.data().$isolateScope.$$watchers && myElement.data().$isolateScope.$$watchers.length){\r\n\t\t\t\t\t\t\t\tcountResult += myElement.data().$isolateScope.$$watchers.length;\r\n\t\t\t\t\t\t\t\t// console.log(myElement.data().$isolateScope.$$watchers);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (myElement.data().$scope && myElement.data().$scope.$$watchers && myElement.data().$scope.$$watchers.length){\r\n\t\t\t\t\t\t\t\tcountResult += myElement.data().$scope.$$watchers.length;\r\n\t\t\t\t\t\t\t\t// console.log(myElement.data().$scope.$$watchers);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t_this.LoopThroughDOM(myElement, myFunc);\r\n\t\t\t\t\treturn countResult;\r\n\t\t\t\t};\r\n\t\t\t\tthis.DetachWatchers = function(myElement){\r\n\t\t\t\t\tif (myElement === []) {return undefined};\r\n\t\t\t\t\tvar myFunc = function(myElement){\r\n\t\t\t\t\t\tif (myElement.data().$isolateScope && myElement.data().$isolateScope.$$watchers && (myElement.data().$isolateScope.$$watchers.length !== 0)){\r\n\t\t\t\t\t\t\t// console.log(myElement.data().$isolateScope.$$watchers, \"isolate scope watchers detached!\");\r\n\t\t\t\t\t\t\tmyElement.data('backupWatchersIsolateScope', myElement.data().$isolateScope.$$watchers);\r\n\t\t\t\t\t\t\tmyElement.data().$isolateScope.$$watchers = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (myElement.data().$scope && myElement.data().$scope.$$watchers && (myElement.data().$scope.$$watchers.length !== 0)){\r\n\t\t\t\t\t\t\t// console.log(myElement.data().$scope.$$watchers, \"scope watchers detached!\");\r\n\t\t\t\t\t\t\tmyElement.data('backupWatchersScope', myElement.data().$scope.$$watchers);\r\n\t\t\t\t\t\t\tmyElement.data().$scope.$$watchers = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\t_this.LoopThroughDOM(myElement, myFunc);\r\n\t\t\t\t};\r\n\t\t\t\tthis.RetachWatchers = function(myElement){\r\n\t\t\t\t\tif (myElement === []) {return undefined};\r\n\t\t\t\t\tvar myFunc = function(myElement){\r\n\t\t\t\t\t\tif (myElement.data().$isolateScope && myElement.data().$isolateScope.$$watchers && (myElement.data().$isolateScope.$$watchers.length === 0) && myElement.data().hasOwnProperty('backupWatchersIsolateScope')){ // Boolean([]) is evaluated to \"true\"\r\n\t\t\t\t\t\t\tmyElement.data().$isolateScope.$$watchers = myElement.data('backupWatchersIsolateScope');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (myElement.data().$scope && myElement.data().$scope.$$watchers && (myElement.data().$scope.$$watchers.length === 0) && myElement.data().hasOwnProperty('backupWatchersScope')){\r\n\t\t\t\t\t\t\tmyElement.data().$scope.$$watchers = myElement.data('backupWatchersScope');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\t_this.LoopThroughDOM(myElement, myFunc);\r\n\t\t\t\t};\r\n\t\t\t}]);\r\n\t}\r\n\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t/* AMD module */\r\n\t\tdefine(['angular', 'spin'], factory);\r\n\t} else {\r\n\t\t/* Browser global */\r\n\t\tfactory(root.angular);\r\n\t}\r\n}(window));\r\n","function reducer(state = {}, action) {\r\nvar tempState = {...state};\r\n  switch (action.type) {\r\n    case \"createTopoM\":\r\n\t\t\ttempState.topoM = action.M;\r\n      break;\r\n    case \"updateTopoM\":\r\n\t\t\ttempState.topoM = [...state.topoM];\r\n\t\t\ttempState.topoM[action.row] = [...state.topoM[action.row]];\r\n\t\t\ttempState.topoM[action.row][action.col] = action.value;\r\n\t\t\ttempState.topoM[action.col] = [...state.topoM[action.col]];\r\n\t\t\ttempState.topoM[action.col][action.row] = action.value;\r\n\t\t\t//console.log(\"updateTopoM triggered: \", action, tempState);\r\n      break;\r\n    case \"savedSynthesisData\":\r\n\t\t\ttempState.savedSynthesisData = action.data;\r\n      break;\r\n    case \"updateTempString\":\r\n\t\t\ttempState.tempString = action.tempString;\r\n      break;\r\n    case \"saveSFile\":\r\n\t\t\ttempState.sFile = action.data;\r\n      break;\r\n\t\tdefault:\r\n  }\r\n  return tempState;\r\n}\r\n\r\nwindow.store = Redux.createStore(reducer);","(function(w){\r\n\r\nw.ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\r\n\r\nw.MatrixTopology = React.createClass({\r\n  render: function() {\r\n\t\tvar _this = this,\r\n\t\t\tthStyle = {border: '1px solid black', textAlign: 'center'},\r\n\t\t\ttdStyle = {border: '1px solid black', textAlign: 'center'};\r\n    return (\r\n      <ReactCSSTransitionGroup transitionName=\"gb-transition\" transitionEnterTimeout={500} transitionLeaveTimeout={300}>\r\n\t\t\t\t<table style={{width: '100%', borderCollapse: 'collapse'}}>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t{this.props.topoM.map( (row, index_row) => {\r\n\t\t\t\t\t\t\tif (index_row === 0){return <th style={thStyle}>S</th>}\r\n\t\t\t\t\t\t\tif (index_row === this.props.topoM.length - 1){return <th style={thStyle}>L</th>}\r\n\t\t\t\t\t\t\treturn <th style={thStyle}>{index_row}</th>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t{this.props.topoM.map( (row, index_row) => {\r\n\t\t\t\t\t\tlet firstCol;\r\n\t\t\t\t\t\tif (index_row === 0){\r\n\t\t\t\t\t\t\tfirstCol = <td style={tdStyle}>S</td>\r\n\t\t\t\t\t\t} else if (index_row === this.props.topoM.length - 1){\r\n\t\t\t\t\t\t\tfirstCol = <td style={tdStyle}>L</td>\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfirstCol = <td style={tdStyle}>{index_row}</td>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{firstCol}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trow.map( (eleM, index_col) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<td style={tdStyle} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (Math.abs(index_col - index_row) > 0.5){\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.clickM(index_row, index_col, 1 - eleM)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{(eleM === 1)? <span className=\"glyphicon glyphicon-ok-sign\" aria-hidden=\"true\"></span> : <span aria-hidden=\"true\"></span>}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</table>\r\n      </ReactCSSTransitionGroup>\r\n    );\r\n  }\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    topoM: state.topoM\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n\t\tclickM: (row, col, value) => { dispatch({type: \"updateTopoM\", row: row, col: col, value: value}) }\r\n  }\r\n}\r\n\r\nw.MatrixTopologyContainer = ReactRedux.connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MatrixTopology);\r\n\r\n})(window);","angular\r\n.module(\"content\", ['KM_tools', 'socket.io', 'infinite-scroll', 'ui.router', 'ngAnimate', 'ngSanitize'])\r\n.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\r\n\t$stateProvider\r\n\t.state('index', {\r\n\t\turl: \"/\",\r\n\t\tabstract: true,\r\n\t\ttemplateUrl: \"_index_web.html\"\r\n\t})\r\n\t.state('synthesis', {\r\n\t\turl: \"/synthesis\",\r\n    views: {\r\n      'mainpage': {\r\n\t\t\t\ttemplateUrl: '_synthesis.html',\r\n\t\t\t\tcontroller: '_synthesis'\r\n\t\t\t}\r\n    },\r\n\t\tonExit: function(){ ReactDOM.unmountComponentAtNode(document.getElementById('matrix-topology-table'));}\r\n\t})\r\n\t.state('extractmatrix', {\r\n\t\turl: \"/extractmatrix\",\r\n    views: {\r\n      'mainpage': {\r\n\t\t\t\ttemplateUrl: '_extractmatrix.html',\r\n\t\t\t\tcontroller: '_extractmatrix'\r\n\t\t\t}\r\n    }\r\n\t})\r\n\t.state('optimize', {\r\n\t\turl: \"/optimize\",\r\n    views: {\r\n      'mainpage': {\r\n\t\t\t\ttemplateUrl: '_optimize.html',\r\n\t\t\t\tcontroller: '_optimize'\r\n\t\t\t}\r\n    }\r\n\t});\r\n\t$urlRouterProvider.otherwise(\"/synthesis\");\r\n}])\r\n.config(['$socketProvider', 'configPara', function ($socketProvider, configPara) {\r\n\t\t$socketProvider.setConnectionUrl(configPara.ip);\r\n\t}\r\n])\r\n.run(['$rootScope', 'common', '$timeout', function ($rootScope, common, $timeout) {\r\n\t}\r\n])\r\n.controller(\"content_main\", ['$scope', 'common', function ($scope, common) {\r\n\tcommon.xhr('isLoggedIn', {}).then(function (msg) {\r\n\t\tif (msg) {\r\n\t\t} else {\r\n\t\t\twindow.location.assign(\"login.html\");\r\n\t\t}\r\n\t});\r\n\t$scope.logoff = function () {\r\n\t\tcommon.xhr('logoff', {}).then(function (msg) {\r\n\t\t\tif (msg) {\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.assign(\"login.html\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n}])\r\n.controller(\"_synthesis\", ['$scope', 'common', '$timeout', '$http', function ($scope, common, $timeout, $http) {\r\n\tvar vis = d3.select(\"#matrix-topology-container\")\r\n\t\t\t.append(\"svg:svg\")\r\n\t\t\t\t.attr(\"class\", \"stage\")\r\n\t\t\t\t.attr(\"width\", document.getElementById(\"matrix-topology-container\").offsetWidth)\r\n\t\t\t\t.attr(\"height\", document.getElementById(\"matrix-topology-container\").offsetHeight);\r\n\r\n\tvis\r\n\t\t.append(\"g\")\r\n\t\t.attr(\"id\", \"group-links\");\r\n\tvis\r\n\t\t.append(\"g\")\r\n\t\t.attr(\"id\", \"group-nodes\");\r\n\r\n\t$('#matrix-topology-modal').on('shown.bs.modal', function (e) {\r\n\t\td3.select(\"#matrix-topology-container\").select(\"svg\")\r\n\t\t\t.attr(\"width\", document.getElementById(\"matrix-topology-container\").offsetWidth)\r\n\t\t\t.attr(\"height\", document.getElementById(\"matrix-topology-container\").offsetHeight);\r\n\t});\r\n\r\n\tvar linearChart;\r\n\t$timeout(function(){\r\n\t\tvar i,\r\n\t\t\tmargin = {\r\n\t\t\t\ttop: 40,\r\n\t\t\t\tright: 40,\r\n\t\t\t\tbottom: 50,\r\n\t\t\t\tleft: 60\r\n\t\t\t},\r\n\t\t\tdata = [], data1 = [], data2 = [];\r\n\t\tlinearChart = new simpleD3LinearChart(\"graph-linear-chart\", margin, [0, 5], [-10, 50]);\r\n\r\n\t\tfor (i = 0; i < 500; i++) {\r\n\t\t\tdata1.push([i/100, Math.sin(i/100) * 20 + 10]);\r\n\t\t\tdata2.push([i/120, Math.cos(i/120) * 10 + 10]);\r\n\t\t}\r\n\r\n\t\tdata.push({label: \"S11(dB)\", data: data1});\r\n\t\tdata.push({label: \"S21(dB)\", data: data2});\r\n\t\t\r\n\t\tlinearChart.update(data, false);\r\n\t}, 100);\r\n\r\n\t$scope.filterOrderChange = function(){\r\n\t\tif ($scope.data.filterOrder > 20){\r\n\t\t\t$scope.data.filterOrder = 20;\r\n\t\t}\r\n\t\tvar N = $scope.data.filterOrder,\r\n\t\t\tM = numeric.identity(N + 2), i;\r\n\t\tM[0][0] = 0;\r\n\t\tM[N + 1][N + 1] = 0;\r\n\t\tfor (i = 0; i < N + 1; i++){\r\n\t\t\tM[i][i + 1] = 1;\t\t\r\n\t\t\tM[i + 1][i] = 1;\r\n\t\t}\r\n\t\tstore.dispatch({type: 'createTopoM', M: M})\r\n\t}\r\n\r\n\t$scope.switchPosition = function(curr, target){\r\n\t\tvar tranZeros = $scope.data.tranZeros;\r\n\t\tif ((target >= 0) && (target < tranZeros.length)){\r\n\t\t\tvar temp1 = [tranZeros[target][0], tranZeros[target][1]];\r\n\t\t\ttranZeros[target][0] = tranZeros[curr][0];\r\n\t\t\ttranZeros[target][1] = tranZeros[curr][1];\r\n\t\t\ttranZeros[curr][0] = temp1[0];\r\n\t\t\ttranZeros[curr][1] = temp1[1];\r\n\t\t}\r\n\t}\r\n\r\n\tvar tempStoreState = store.getState();\r\n\t\r\n\tif (tempStoreState.hasOwnProperty(\"savedSynthesisData\")){\r\n\t\t$scope.data = tempStoreState.savedSynthesisData;\r\n\t} else {\r\n\t\t$scope.data = {\r\n\t\t\tfilterOrder: 3,\r\n\t\t\treturnLoss: 30,\r\n\t\t\tcenterFreq: 4,//14.36,\r\n\t\t\tbandwidth: 0.02,//0.89,\r\n\t\t\tunloadedQ: 2000,\r\n\t\t\tstartFreq: 3.75,//12.8,\r\n\t\t\tstopFreq: 4.25,//15.5,\r\n\t\t\tnumberOfPoints: 1000,\r\n\t\t\tfilterType: \"BPF\",\r\n\t\t\t/* tranZeros: [['', 1.1], ['', 1.4], ['', 1.9]], */\r\n\t\t\ttranZeros: [['', '']],\r\n\t\t\tmatrixDisplay: \"M\",\r\n\t\t\tisSymmetric: false,\r\n\t\t\tfocusZero: 0\r\n\t\t}\r\n\t}\t\r\n\r\n\tvar unsubscribe = store.subscribe(handleChangeM);\r\n\tif (tempStoreState.hasOwnProperty(\"topoM\")){\r\n\t\thandleChangeM();\r\n\t} else {\r\n\t\t$scope.filterOrderChange();\t\t\r\n\t}\r\n\r\n\r\n\t$scope.showChart = function(select){\r\n\t\tvar data;\r\n\t\tswitch (select.toLowerCase()){\r\n\t\t\tcase \"groupdelay\":\r\n\t\t\t\tdata = [{label: \"Group delay (ns)\", data: $scope.GroupDelay_fromM}];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"s\":\r\n\t\t\tdefault:\r\n\t\t\t\tdata = [{label: \"S11(dB)\", data: $scope.S11dB_fromM}, {label: \"S21(dB)\", data: $scope.S21dB_fromM}];\r\n\t\t}\r\n\t\tlinearChart.update(data, true);\r\n\t}\r\n\t\r\n\t$scope.calculate = async function(){\r\n\t\tfunction polyResult(coef){\r\n\t\t\treturn vanderN.map(function(v){\r\n\t\t\t\treturn coef.reduce(function(t, d, i){\r\n\t\t\t\t\treturn t.add(d.mul(v[i]));\r\n\t\t\t\t}, numeric.t(0, 0))\r\n\t\t\t});\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tvar tranZeros = $scope.data.tranZeros\r\n\t\t\t\t.map(function(d){return [Number(d[0]), Number(d[1])]})\r\n\t\t\t\t.filter(function(d){return (d[0] !== 0) || (d[1] !== 0)}),\r\n\t\t\t\tnumberOfPoints = ($scope.data.numberOfPoints < 5000)? $scope.data.numberOfPoints : 5000,\r\n\t\t\t\tstopFreq = ($scope.data.startFreq < $scope.data.stopFreq)? $scope.data.stopFreq : $scope.data.startFreq + $scope.data.bandwidth * 8,\r\n\t\t\t\tfreqGHz = numeric.linspace($scope.data.startFreq, stopFreq, numberOfPoints),\r\n\t\t\t\r\n\t\t\t\tresponse = await common.xhr2('SynthesizeFromTranZeros', {rootP: tranZeros, N: $scope.data.filterOrder, returnLoss: $scope.data.returnLoss, topology: store.getState().topoM}),\r\n\r\n\t\t\t\tepsilon = numeric.t(response.epsilon[0], response.epsilon[1]),\r\n\t\t\t\tepsilonE = epsilon,\r\n\t\t\t\tcoefP = response.coefP.map(function(d){return numeric.t(d[0], d[1])}),\r\n\t\t\t\tcoefF = response.coefF.map(function(d){return numeric.t(d[0], d[1])}),\r\n\t\t\t\tcoefE = response.coefE.map(function(d){return numeric.t(d[0], d[1])}),\r\n/* \t\t\t\tsFromFPE = common.FPE2S(epsilon, epsilonE, coefF, coefP, coefE, freqGHz, $scope.data.unloadedQ, $scope.data.centerFreq, $scope.data.bandwidth),\r\n\t\t\t\tS11dB = sFromFPE.S11.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]}),\r\n\t\t\t\tS21dB = sFromFPE.S21.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]}), */\r\n\t\t\t\tsFromM = common.CM2S(response.targetMatrix, freqGHz, $scope.data.unloadedQ, $scope.data.centerFreq, $scope.data.bandwidth);\r\n\t\t\t\t\r\n\t\t\t$scope.S11dB_fromM = sFromM.S11.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]});\r\n\t\t\t$scope.S21dB_fromM = sFromM.S21.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]});\r\n\t\t\t$scope.GroupDelay_fromM = sFromM.S21.map(function(s, i, o){\r\n\t\t\t\tvar freqStep = (i === o.length - 1)? o[i][0] - o[i - 1][0] : o[i + 1][0] - o[i][0],\r\n\t\t\t\t\tphase1 = Math.atan2(o[i][1].y, o[i][1].x),\r\n\t\t\t\t\tphase2 = (i === o.length - 1)? 2 * Math.atan2(o[i][1].y, o[i][1].x) - Math.atan2(o[i - 1][1].y, o[i - 1][1].x) : Math.atan2(o[i + 1][1].y, o[i + 1][1].x),\r\n\t\t\t\t\tphaseStep = phase2 - phase1;\r\n\t\t\t\tphaseStep = phaseStep - Math.round(phaseStep / Math.PI) * Math.PI;\r\n\t\t\t\treturn [s[0], -phaseStep / (2 * Math.PI * freqStep)]});\r\n\r\n\t\t\tdocument.querySelector('#s11dbChart').click();\r\n\r\n\t\t\t$scope.data.targetMatrix = response.targetMatrix;\r\n\t\t\t$scope.data.message = response.message;\r\n\t\t\t$scope.$digest();\r\n\t\t\t\r\n\t\t\tvar tempString = \"# GHZ S DB R 50\";\r\n\t\t\tsFromM.S11.forEach(function(s, i){\r\n\t\t\t\tvar S11_dB = 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10,\r\n\t\t\t\t\tS11_phase = Math.atan2(s[1].y, s[1].x) * 180 / Math.PI,\r\n\t\t\t\t\tt = sFromM.S21[i],\r\n\t\t\t\t\tS21_dB = 10 * Math.log(t[1].x * t[1].x + t[1].y * t[1].y) / Math.LN10,\r\n\t\t\t\t\tS21_phase = Math.atan2(t[1].y, t[1].x) * 180 / Math.PI;\r\n\t\t\t\ttempString += \"\\n\" + s[0] + \" \" + S11_dB + \" \" + S11_phase + \" \" + S21_dB + \" \" + S21_phase + \" \" + S21_dB + \" \" + S21_phase + \" \" + S11_dB + \" \" + S11_phase;\r\n\t\t\t});\r\n\t\t\tstore.dispatch({type: 'updateTempString', tempString: tempString});\t\t\t\r\n\t\t\t/* console.log(tempString.slice(0)); */\r\n\t\t} catch(e){\r\n\t\t\tconsole.log(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\t$timeout(function(){$scope.calculate()}, 500);\r\n\r\n\tfunction M2Nodeslinks(M, unitStep){\r\n\t\tvar N = M.length - 2, nodes = [], links = [], i, j, k, edgeIndex = 0;\r\n\t\tfor (i = 0; i < N + 2; i++){\r\n\t\t\tvar label;\r\n\t\t\tswitch (i) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tlabel = 'S';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (N + 1):\r\n\t\t\t\t\tlabel = 'L';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tlabel = i.toString();\r\n\t\t\t}\r\n\t\t\tnodes.push({id: i, label: label, x: (i + 0.5) * unitStep, y: unitStep, size: 3});\r\n\t\t}\r\n\t\tfor (i = 0; i < N + 1; i++){\r\n\t\t\tif (M[i][i + 1] === 1){\r\n\t\t\t\tlinks.push({id: edgeIndex, source: nodes[i], target: nodes[i + 1], size: 3, primary: true});\r\n\t\t\t\tedgeIndex++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i = 0; i < N; i++){\r\n\t\t\tfor (j = N + 1; j > i + 1; j--){\r\n\t\t\t\tif (M[i][j] === 1){\r\n\t\t\t\t\tlinks.push({id: edgeIndex, source: nodes[i], target: nodes[j], size: 2, primary: false});\r\n\t\t\t\t\tedgeIndex++;\r\n\t\t\t\t\tif ((j === i + 2) && (nodes[i].y === nodes[j].y)){\r\n\t\t\t\t\t\tfor (k = j; k < N + 2; k++){\r\n\t\t\t\t\t\t\tnodes[k].x -= unitStep;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnodes[j - 1].x -= 0.5 * unitStep;\r\n\t\t\t\t\t\tnodes[j - 1].y += unitStep;\r\n\t\t\t\t\t} else if (nodes[i].y === nodes[j].y){\r\n\t\t\t\t\t\tfor (k = j; k < N + 2; k++){\r\n\t\t\t\t\t\t\tnodes[k].x -= 2 * unitStep;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (k = i + 1; k < j; k++){\r\n\t\t\t\t\t\t\tnodes[k].x -= unitStep;\r\n\t\t\t\t\t\t\tnodes[k].y += unitStep;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn {nodes: nodes, links: links}\r\n\t}\r\n\r\nfunction handleChangeM(){\r\n\tvar dataM = M2Nodeslinks(store.getState().topoM, 100),\r\n\tnodes = dataM.nodes,\r\n\tlinks = dataM.links,\r\n\tminX = _.min(nodes.map(function(o){return o.x})),\r\n\tmaxX = _.max(nodes.map(function(o){return o.x})),\r\n\tminY = _.min(nodes.map(function(o){return o.y})),\r\n\tmaxY = _.max(nodes.map(function(o){return o.y}));\r\n\r\n\tvis\r\n\t.transition().duration(750)\r\n\t.attr(\"viewBox\", (minX - 50) + \" \" + (minY - 50) + \" \" + (maxX - minX + 100) + \" \" + (maxY - minY + 100))\r\n\t.attr(\"preserveAspectRatio\", \"xMidYMid meet\");\r\n\tvar selectLinks = vis.select(\"#group-links\").selectAll(\"line\").data(links),\r\n\t\tselectNodes = vis.select(\"#group-nodes\").selectAll(\"g.node\").data(nodes);\r\n\r\n\t\t\tselectLinks\r\n\t\t\t\t.transition().duration(750)\r\n\t\t\t\t.attr(\"x1\", function(d) { return d.source.x })\r\n\t\t\t\t.attr(\"y1\", function(d) { return d.source.y })\r\n\t\t\t\t.attr(\"x2\", function(d) { return d.target.x })\r\n\t\t\t\t.attr(\"y2\", function(d) { return d.target.y })\r\n\t\t\t\t.style(\"stroke\", \"#666666\")\r\n\t\t\t\t.style(\"stroke-width\", \"10px\")\r\n\t\t\t\t.style(\"stroke-dasharray\", function(d){return (d.primary)? \"\" : \"10, 4\"});\r\n\r\n\t\t\tselectLinks\r\n\t\t\t\t.enter()\r\n\t\t\t\t.append(\"line\")\r\n\t\t\t\t.attr(\"x1\", function(d) { return d.source.x })\r\n\t\t\t\t.attr(\"y1\", function(d) { return d.source.y })\r\n\t\t\t\t.attr(\"x2\", function(d) { return d.target.x })\r\n\t\t\t\t.attr(\"y2\", function(d) { return d.target.y })\r\n\t\t\t\t.style(\"stroke\", \"#666666\")\r\n\t\t\t\t.style(\"stroke-width\", \"10px\")\r\n\t\t\t\t.style(\"stroke-dasharray\", function(d){return (d.primary)? \"\" : \"10, 4\"});\r\n\t\t\t\t\r\n\t\t\tselectLinks.exit().remove();\r\n\t\t\t\r\n\t\t\tselectNodes\r\n\t\t\t.transition().duration(750)\r\n\t\t\t.attr(\"transform\", function(d){return \"translate(\" + d.x + \",\" + d.y + \")\"});\r\n\t\t\t\r\n\t\t\tlet eachNode = selectNodes\r\n      .enter()\r\n      .append(\"svg:g\")\r\n      .attr(\"class\", \"node\")\r\n\t\t\t.attr(\"transform\", function(d){return \"translate(\" + d.x + \",\" + d.y + \")\"});\r\n\t\t\t\r\n\t\t\teachNode\r\n      .append(\"svg:circle\")\r\n      .attr(\"class\", \"node-circle\")\r\n      .attr(\"r\", \"18px\")\r\n      .attr(\"fill\", \"#ff0000\");\r\n\t\t\t\r\n\t\t\teachNode\r\n\t\t\t.append(\"text\")\r\n      .attr(\"class\", \"node-text\")\r\n\t\t\t.attr(\"dy\", \"5px\")\r\n\t\t\t.attr(\"text-anchor\", \"middle\")\r\n\t\t\t.text(function(d) {\r\n\t\t\t\treturn d.label;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tselectNodes\r\n\t\t\t.select(\".node-text\")\r\n\t\t\t.text(function(d) {\r\n\t\t\t\treturn d.label;\r\n\t\t\t});\r\n\r\n\t\t\tselectNodes.exit().remove();\r\n}\r\n\r\n\r\n\tReactDOM.render(\r\n\t\t<ReactRedux.Provider store={store}>\r\n\t\t\t<MatrixTopologyContainer />\r\n\t\t</ReactRedux.Provider>,\r\n\t\tdocument.getElementById('matrix-topology-table')\r\n\t);\r\n\r\n\t$scope.$on(\"$destroy\", function(){\r\n\t\tunsubscribe();\r\n\t\tstore.dispatch({type: 'savedSynthesisData', data: $scope.data});\r\n\t});\r\n}])\r\n.controller(\"_extractmatrix\", ['$scope', '$timeout', 'common', function ($scope, $timeout, common) {\r\n\tvar linearChart1;\r\n\t$timeout(function(){\r\n\t\tvar margin = {\r\n\t\t\ttop: 40,\r\n\t\t\tright: 40,\r\n\t\t\tbottom: 50,\r\n\t\t\tleft: 60\r\n\t\t};\r\n\t\tlinearChart1 = new simpleD3LinearChart(\"graph-linear-chart1\", margin, [0, 5], [-10, 50]);\r\n\t}, 80);\r\n\r\n\t$scope.data = {};\r\n\t\r\n\t$timeout(function(){\r\n\t\tvar tempStoreState = store.getState();\r\n\t\tif (tempStoreState.hasOwnProperty(\"tempString\")){\r\n\t\t\tvar sFile = common.ParseS2P(tempStoreState.tempString);\r\n\t\t\tstore.dispatch({type: 'saveSFile', data: sFile});\r\n\t\t\textractMatrix(sFile);\r\n\t\t}\r\n\t}, 300);\r\n\tasync function extractMatrix(sFile){\r\n\t\ttry {\r\n\t\t\tvar synStoreState = store.getState().savedSynthesisData,\r\n\t\t\t\ttopoM = store.getState().topoM,\r\n\t\t\t\ttranZeros = synStoreState.tranZeros\r\n\t\t\t\t.map(function(d){return [Number(d[0]), Number(d[1])]})\r\n\t\t\t\t.filter(function(d){return (d[0] !== 0) || (d[1] !== 0)}),\r\n\t\t\t\tcaptureStartFreqGHz = $scope.captureStartFreqGHz || 0,\r\n\t\t\t\tcaptureStopFreqGHz = $scope.captureStopFreqGHz || 0,\r\n\t\t\t\tresponse = await common.xhr2('ExtractMatrix', {...sFile, ...synStoreState, tranZeros: tranZeros, topology: topoM, captureStartFreqGHz: captureStartFreqGHz, captureStopFreqGHz: captureStopFreqGHz}),\r\n\t\t\t\tnumberOfPoints = (synStoreState.numberOfPoints < 5000)? synStoreState.numberOfPoints : 5000,\r\n\t\t\t\tstopFreq = (synStoreState.startFreq < synStoreState.stopFreq)? synStoreState.stopFreq : synStoreState.startFreq + synStoreState.bandwidth * 8,\r\n\t\t\t\tfreqGHz = numeric.linspace(synStoreState.startFreq, stopFreq, numberOfPoints),\r\n\t\t\t\t\r\n/* \t\t\t\tsFromTargetM = common.CM2S(synStoreState.targetMatrix, freqGHz, synStoreState.unloadedQ, synStoreState.centerFreq, synStoreState.bandwidth), */\r\n\t\t\t\t\r\n\t\t\t\tsFromExtractM = common.CM2S(response.extractedMatrix, freqGHz, response.q, synStoreState.centerFreq, synStoreState.bandwidth);\r\n\t\t\t\t\r\n/* \t\t\t$scope.S11dB_fromTargetM = sFromTargetM.S11.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]});\r\n\t\t\t$scope.S21dB_fromTargetM = sFromTargetM.S21.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]});\r\n\t\t\t$scope.S11ang_fromTargetM = sFromTargetM.S11.map(function(s){return [s[0], Math.atan2(s[1].y, s[1].x) * 180 / Math.PI]});\r\n\t\t\t$scope.S21ang_fromTargetM = sFromTargetM.S21.map(function(s){return [s[0], Math.atan2(s[1].y, s[1].x) * 180 / Math.PI]}); */\r\n\t\t\t\r\n\t\t\t$scope.S11dB_fromExtractM = sFromExtractM.S11.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]});\r\n\t\t\t$scope.S21dB_fromExtractM = sFromExtractM.S21.map(function(s){return [s[0], 10 * Math.log(s[1].x * s[1].x + s[1].y * s[1].y) / Math.LN10]});\r\n\t\t\t$scope.S11ang_fromExtractM = sFromExtractM.S11.map(function(s){return [s[0], Math.atan2(s[1].y, s[1].x) * 180 / Math.PI]});\r\n\t\t\t$scope.S21ang_fromExtractM = sFromExtractM.S21.map(function(s){return [s[0], Math.atan2(s[1].y, s[1].x) * 180 / Math.PI]});\r\n\r\n\t\t\t$scope.S11dB_fromSFile = sFile.freq.map(function(f, i){return [f / 1000, sFile.S11_db[i]]});\r\n\t\t\t$scope.S21dB_fromSFile = sFile.freq.map(function(f, i){return [f / 1000, sFile.S21_db[i]]});\r\n\t\t\t$scope.S11ang_fromSFile = sFile.freq.map(function(f, i){return [f / 1000, sFile.S11_angRad[i] * 180 / Math.PI]});\r\n\t\t\t$scope.S21ang_fromSFile = sFile.freq.map(function(f, i){return [f / 1000, sFile.S21_angRad[i] * 180 / Math.PI]});\r\n\r\n\t\t\tdocument.querySelector('#s11dbChart').click();\r\n\t\t\t$scope.data.extractedMatrix = response.extractedMatrix;\r\n\t\t\t$scope.data.deviateMatrix = response.deviateMatrix;\r\n\t\t\t$scope.data.q = response.q;\r\n\t\t\tdocument.getElementById(\"p1-file\").innerHTML = response.message;\r\n\t\t\tdocument.querySelector('#deviationTable').click();\r\n\t\t\t$scope.$digest();\r\n\t\t} catch(e) {\r\n\t\t\tdocument.getElementById(\"p1-file\").innerHTML = e.message;\r\n\t\t}\r\n\t}\r\n\r\n\t$scope.showChart = function(select){\r\n\t\tvar data;\r\n\t\tswitch (select.toLowerCase()){\r\n\t\t\tcase \"s21ang\":\r\n\t\t\t\tdata = [{label: \"S file\", data: $scope.S21ang_fromSFile}, {label: \"Extracted\", data: $scope.S21ang_fromExtractM}];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"s11ang\":\r\n\t\t\t\tdata = [{label: \"S file\", data: $scope.S11ang_fromSFile}, {label: \"Extracted\", data: $scope.S11ang_fromExtractM}];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"s21db\":\r\n\t\t\t\tdata = [{label: \"S file\", data: $scope.S21dB_fromSFile}, {label: \"Extracted\", data: $scope.S21dB_fromExtractM}];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"s11db\":\r\n\t\t\tdefault:\r\n\t\t\t\tdata = [{label: \"S file\", data: $scope.S11dB_fromSFile}, {label: \"Extracted\", data: $scope.S11dB_fromExtractM}];\r\n\t\t}\r\n\t\tlinearChart1.update(data, true);\r\n\t}\r\n\r\n\t$scope.showTable = function(select, tableDataFormat){\r\n\t\tvar data, synStoreState = store.getState().savedSynthesisData;\r\n\t\tif (typeof select === \"undefined\"){\r\n\t\t\t$scope.data.matrixToShow = $scope.data.deviateMatrix;\r\n\t\t} else {\r\n\t\t\tswitch (select.toLowerCase()){\r\n\t\t\t\tcase \"targetmatrix\":\r\n\t\t\t\t\t$scope.data.matrixToShow = synStoreState.targetMatrix;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"extractedmatrix\":\r\n\t\t\t\t\t$scope.data.matrixToShow = $scope.data.extractedMatrix;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"deviation\":\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t$scope.data.matrixToShow = $scope.data.deviateMatrix;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (typeof tableDataFormat === \"undefined\"){\r\n\t\t\t$scope.data.tableDataFormat = 0;\r\n\t\t} else {\r\n\t\t\t$scope.data.tableDataFormat = tableDataFormat;\r\n\t\t}\r\n\t}\r\n\t\r\n\t$scope.capture = function(){\r\n\t\tvar tempStoreState = store.getState();\r\n\t\tif (tempStoreState.hasOwnProperty(\"sFile\")){\r\n\t\t\tvar sFile = tempStoreState.sFile;\r\n\t\t\textractMatrix(sFile);\r\n\t\t}\r\n\t}\r\n\r\n\tvar reader = new FileReader();\r\n\treader.onload = function(evt){\r\n\t\tvar sFile;\r\n\t\ttry {\r\n\t\t\tsFile = common.ParseS2P(evt.target.result);\r\n\t\t\tdocument.getElementById(\"p1-file\").innerHTML = \"S parameter file parsed successfully!\";\t\t\t\r\n\t\t\tstore.dispatch({type: 'saveSFile', data: sFile})\r\n\t\t\textractMatrix(sFile);\r\n\t\t} catch(e) {\r\n\t\t\tdocument.getElementById(\"p1-file\").innerHTML = e.message;\r\n\t\t}\r\n\t};\r\n\tvar inputElement = document.getElementById(\"input-s2p-file\");\r\n\tinputElement.addEventListener(\"change\", handleFiles, false);\r\n\tfunction handleFiles() {\r\n\t var fileList = this.files; /* now you can work with the file list */\r\n\t reader.readAsText(fileList[0])\r\n\t}\r\n}])\r\n.controller(\"_optimize\", ['$scope', '$timeout', function ($scope, $timeout) {\r\n\r\n}])\r\n.directive('hideTabs', ['$rootScope', function($rootScope) {\r\n  return {\r\n      restrict: 'A',\r\n      link: function($scope, $el) {\r\n          $rootScope.hideTabs = 'tabs-item-hide';\r\n          $scope.$on('$destroy', function() {\r\n              $rootScope.hideTabs = '';\r\n          });\r\n      }\r\n  };\r\n}])\r\n.directive('nsFillForm', [function() {\r\n  return {\r\n    restrict: 'AE',\r\n    scope: {\r\n      nsFields: '=nsFields',\r\n\t\t\tnsFormData: '=nsFormData',\r\n\t\t\tnsCancel: '&nsCancel',\r\n\t\t\tnsSave: '&nsSave',\r\n\t\t\tnsDelete: '&nsDelete'\r\n    },\r\n\t\ttemplateUrl: '_nsFillForm.html',\r\n    link: function(scope, element, attrs) {\r\n\t\t\tscope.nsShowDelete = (attrs.hasOwnProperty('nsShowDelete'))? (attrs.nsShowDelete === 'true') : false;\r\n\t\t}\r\n  };\r\n}])\r\n.directive('nsSearchBox', [function() {\r\n  return {\r\n    restrict: 'AE',\r\n    scope: {\r\n      nsSearch: '=nsSearch',\r\n\t\t\tnsClickButton: '&nsClickButton'\r\n    },\r\n\t\ttemplateUrl: '_nsSearchBox.html',\r\n    link: function(scope, element, attrs) {\r\n\t\t\tscope.nsShowButton = (attrs.hasOwnProperty('nsShowButton'))? (attrs.nsShowButton === 'true') : false;\r\n\t\t}\r\n  };\r\n}])\r\n.directive('nsLinkBox', ['$state', function($state) {\r\n  return {\r\n    restrict: 'AE',\r\n\t\ttransclude: true,\r\n    scope: {},\r\n\t\ttemplateUrl: '_nsLinkBox.html',\r\n    link: function(scope, element, attrs) {\r\n\t\t\tscope.nsState = (attrs.hasOwnProperty('nsState'))? attrs.nsState : \"\";\r\n\t\t\tscope.nsIcon = (attrs.hasOwnProperty('nsIcon'))? attrs.nsIcon : \"\";\r\n\t\t\tscope.$state = $state;\r\n\t\t}\r\n  };\r\n}]);\r\n\r\n/* angular.element(document).ready(function () {\r\n\tangular.bootstrap(document, ['content']);\r\n}); */","angular\r\n.module('myAppE2E', ['content', 'ngMockE2E'])\r\n.run(['$httpBackend', '$timeout', function($httpBackend, $timeout) {\r\n var user = [\r\n\t\t{id: 1, email: 'guest@groupbuy.com', password: 'g', primaryaddr: 2}\r\n\t],\r\n\taddress = [\r\n\t\t{id: 1, user: 0, streetno: '10', streetname: 'king st', city: 'Kitchener', province: 'Ontario', country: 'Canada', postcode: 'N2A 0J5'},\r\n\t\t{id: 2, user: 0, streetno: '20', streetname: 'king st', city: 'Kitchener', province: 'Ontario', country: 'Canada', postcode: 'N2A 0J5'},\r\n\t\t{id: 3, user: 0, streetno: '30', streetname: 'king st', city: 'Kitchener', province: 'Ontario', country: 'Canada', postcode: 'N2A 0J5'},\r\n\t\t{id: 4, user: 0, streetno: '40', streetname: 'king st', city: 'Kitchener', province: 'Ontario', country: 'Canada', postcode: 'N2A 0J5'}\r\n\t],\r\n\tstore = [\r\n\t\t{id: 1, user: 0, name: 'corner store', streetno: '10', streetname: 'king st', city: 'Kitchener', province: 'Ontario', country: 'Canada', postcode: 'N2A 0J5', description: 'Electronic commodity', deliveryplan: \"[{distance: 1, radius: 0.2, order: 200, currency: 'CAD'}]\"}\r\n\t];\r\n\r\n\t$httpBackend.whenRoute('GET', /.+\\.html$/).passThrough();\r\n\t$httpBackend.whenRoute('POST', '/python/:method').passThrough();\r\n\t\r\n\tif (window.location.hostname.indexOf(\"localhost\") === -1) {\r\n\t\t$httpBackend.whenRoute('POST', '/ajax/:method').passThrough();\r\n\t} else {\r\n\t\tconsole.log(\"dummy /ajax/:method used\")\r\n\t\t$httpBackend.whenRoute('POST', '/ajax/:method')\r\n\t\t.respond(function(method, url, data, headers, params) {\r\n\t\t\tlet body = JSON.parse(data), tempUser;\r\n\t\t\tswitch (params.method){\r\n\t\t\t\tcase 'isLoggedIn':\r\n\t\t\t\t\treturn [200, \"success\"];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'updateUser':\r\n\t\t\t\t\tuser[0].primaryaddr = body.primaryaddr;\r\n\t\t\t\tcase 'getUser':\r\n\t\t\t\t\ttempUser = angular.copy(user[0]);\r\n\t\t\t\t\ttempUser.password = undefined;\r\n\t\t\t\t\treturn [200, tempUser];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'getAddressList':\r\n\t\t\t\t\treturn [200, address];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'saveAddress':\r\n\t\t\t\t\tif (body.hasOwnProperty(\"id\")){\r\n\t\t\t\t\t\tlet tempIndex = address.map(o => o.id).indexOf(body.id);\r\n\t\t\t\t\t\taddress[tempIndex] = body;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\taddress.push({id: _.last(address).id + 1, ...body, user: 0});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn [200, address];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'deleteAddress':\r\n\t\t\t\t\tif (body.hasOwnProperty(\"id\")){\r\n\t\t\t\t\t\tlet tempIndex = address.map(o => o.id).indexOf(body.id);\r\n\t\t\t\t\t\taddress.splice(tempIndex, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn [200, address];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [200, {}];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}]);\r\n\r\nangular.element(document).ready(function () {\r\n\tangular.bootstrap(document, ['myAppE2E']);\r\n});"]}